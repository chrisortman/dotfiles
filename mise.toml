# Too bad need a tool for stow!!

[tools]
usage = "latest"

[vars]
verbose_arg = '--verbose'
home_dir = '/Users/cortman'

[tasks.stow-home]
hide = true
description = "Stows a package into your home directory"
run = 'stow --dir config --target {{vars.home_dir}} --dotfiles {{vars.verbose_arg}} {{arg(name="package")}}'

[tasks.stow-xdg]
hide = true
description = "Stows a package into ~/.config"
run = 'stow --dir config --target {{vars.home_dir}}/.config --dotfiles {{vars.verbose_arg}} {{arg(name="package")}}'

[tasks.stow]
description = """
Uses gnu stow to install the config for the given package
There are two inocations. Any package that starts with an underscore will go to the .config folder
this way I don't have to have hidden .config folders in the tree
"""
run = [
  'eza -D -1 -I "_*" config | xargs stow --dir config --target {{vars.home_dir}} --dotfiles {{vars.verbose_arg}}',
  'eza -D -1 -I "[a-z]*" config | xargs stow --dir config --target {{vars.home_dir}}/.config --dotfiles {{vars.verbose_arg}}',
]


[tasks.list-configs]
hide = true
quiet = true
description = "List the stow packages"
run = 'eza -D -1 config'

[tasks.install-fastfetch]
description = "Install fastfetch for displaying system information"
file = "install/terminal/app-fastfetch.sh"
